(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{532:function(t,e,a){t.exports=a.p+"assets/img/012.951bf203.png"},533:function(t,e,a){t.exports=a.p+"assets/img/013.7754d19b.png"},534:function(t,e,a){t.exports=a.p+"assets/img/014.83b206a3.png"},584:function(t,e,a){"use strict";a.r(e);var l=a(1),s=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"mysql体系结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql体系结构"}},[t._v("#")]),t._v(" Mysql体系结构")]),t._v(" "),e("p",[e("img",{attrs:{src:a(532),alt:"image-20231222150219744"}})]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("组件")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("连接池")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用于管理客户端连接，通过复用连接提高系统的性能和伸缩性。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("线程池，用于管理数据库连接线程")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("SQL接口")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("接收和处理SQL查询的接口，提供与数据库的交互方式。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("DDL，DML，Stored Procedures(存储过程)，Triggers（触发器）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("解析器")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("解析SQL查询，将其转换为服务器可以理解的内部格式，为后续的查询执行做准备。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("SQL Parser（SQL解析器，用于解析SQL语句）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("查询优化器")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对解析后的查询进行优化，找到最有效的执行方法。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Cost-based optimizer（基于成本的优化器，用于确定查询执行计划）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("缓存")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存储查询结果，以便在接收到相同的查询时，可以直接从缓存中返回结果，提高查询效率。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Query Cache（查询缓存），InnoDB Buffer Pool（缓冲池，用于缓存数据和索引）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("系统管理和控制工具")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("提供一套完整的系统管理和控制工具，包括命令行工具、图形化管理工具、性能监控工具等，用于管理和监控MySQL服务器。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MySQL Workbench（图形化管理工具），Performance Schema（性能监控工具），mysqldump（用于备份数据库），mysqladmin（用于执行管理员操作）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("可插拔存储引擎")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("MySQL支持多种存储引擎，每种存储引擎都有其特定的特性和用途，可以根据需要选择合适的存储引擎。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("InnoDB（支持事务处理和行级锁定），MyISAM（提供高速存储和检索，以及全文搜索能力），Memory（提供在内存中创建表的能力，用于快速访问）、Index（索引）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("系统文件")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("包括数据文件、日志文件、配置文件等，用于存储数据库的数据和元数据，记录数据库的操作日志，以及配置数据库的行为。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v(".frm（存储表定义的文件），.ibd（InnoDB存储引擎的数据文件），.MYD（MyISAM存储引擎的数据文件）等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("文件和日志")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("记录数据库的操作，包括查询日志、错误日志、慢查询日志、二进制日志等，用于监控和调试，以及在系统崩溃后恢复数据。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Error log（错误日志），Query log（查询日志），Slow query log（慢查询日志），Binary log（二进制日志），Redo log（重做日志，用于恢复事务）")])])])]),t._v(" "),e("h2",{attrs:{id:"存储引擎概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎概念"}},[t._v("#")]),t._v(" 存储引擎概念")]),t._v(" "),e("p",[t._v("​\t存储引擎就是"),e("strong",[t._v("存储数据")]),t._v("、"),e("strong",[t._v("建立索引")]),t._v("、"),e("strong",[t._v("更新")]),t._v("、"),e("strong",[t._v("查询")]),t._v("数据等技术的实现方式。")]),t._v(" "),e("p",[t._v("​\t存储引擎是"),e("strong",[t._v("基于表的")]),t._v("，而不是基于库的，所以存储引擎也可被称为表类型。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("可以在创建表时通过"),e("code",[t._v("ENGINE")]),t._v("指定存储引擎，默认是"),e("code",[t._v("InnoDB")])]),t._v(" "),e("li",[t._v("可通过"),e("code",[t._v("SHOW CREATE TABLE 表名")]),t._v("查看表引擎")])])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token identifier"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("account"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token identifier"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token identifier"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token identifier"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("balance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decimal")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token identifier"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("h2",{attrs:{id:"存储引擎分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎分类"}},[t._v("#")]),t._v(" 存储引擎分类")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("可通过"),e("code",[t._v("SHOW ENGINES")]),t._v("查看当前数据库支持的存储引擎")])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("存储引擎")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否默认")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否支持事务")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否支持行级锁定")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否支持外键")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("InnoDB")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持事务处理，行级锁定，以及外键。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MRG_MYISAM")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("一组相同的MyISAM表的集合，主要用于将多个MyISAM表作为一个表来查询。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MEMORY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("基于哈希的，存储在内存中，适用于临时表。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("BLACKHOLE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("黑洞存储引擎，写入的任何数据都会消失，主要用于在主从复制中过滤掉不需要复制的数据。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MyISAM")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("提供高速存储和检索，以及全文搜索能力，但不支持事务。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("CSV")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("CSV存储引擎，将数据以逗号分隔的格式存储，方便数据的导入导出。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ARCHIVE")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("归档存储引擎，只支持INSERT和SELECT操作，适合存储和检索大量的历史数据。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("PERFORMANCE_SCHEMA")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("性能模式，用于收集数据库服务器性能参数，帮助调优。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("FEDERATED")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("联邦存储引擎，将数据存储在远程的MySQL数据库中，可以在本地服务器上创建链接到远程表的表。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")])])])]),t._v(" "),e("h2",{attrs:{id:"innodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#innodb"}},[t._v("#")]),t._v(" InnoDB")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("搞可靠，搞性能")]),t._v(" "),e("li",[t._v("MySql 5.5之后的默认引擎")])])]),e("h3",{attrs:{id:"特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),e("ul",[e("li",[t._v("DML操作遵循ACID模型、支持事务、行级锁、提高并发访问性能")]),t._v(" "),e("li",[t._v("支持外键FOREIGN KEY约束，保证数据的完整性和正确性;")])]),t._v(" "),e("h3",{attrs:{id:"文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[t._v("#")]),t._v(" 文件")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[e("p",[e("code",[t._v("SHOW VARIABLES LIKE 'innodb_file_per_table'")]),t._v("可以查看，参数是否为ON")])]),t._v(" "),e("li",[e("p",[t._v("设置为ON时，每个InnoDB表都会使用一个独立的.ibd文件作为其表空间，存储该表的数据和索引，OFF则共用")])])])]),e("ul",[e("li",[t._v("XXX.ibd: innoDB引擎的每张表都会对应这样一个表空间文件，存储该表的表结构(frm、sdi)、数据和索引。")]),t._v(" "),e("li",[t._v("参数： innodb_file_per_table")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("默认ON，可以看见每张表都有自己的表空间")]),t._v(" "),e("li",[t._v("mysql8可以通过"),e("code",[t._v("ibd2sdi xxx.ibd")]),t._v("查看内容(JSON格式")]),t._v(" "),e("li",[t._v(")")])])]),e("p",[e("img",{attrs:{src:a(533),alt:"image-20231222153049773"}})]),t._v(" "),e("h3",{attrs:{id:"逻辑结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑结构"}},[t._v("#")]),t._v(" 逻辑结构")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("表空间：是最大的存储单位，可以包含多个段。")]),t._v(" "),e("li",[t._v("段：是表空间中的一部分，每个段可以包含多个区。")]),t._v(" "),e("li",[t._v("区：是段中的一部分，每个区包含多个页。")]),t._v(" "),e("li",[t._v("页：是区中的一部分，每个页包含多个行。")]),t._v(" "),e("li",[t._v("行：是页中的一部分，每个行存储一条记录的数据。")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("每个行对应表中的一条记录，每个字段的数据都存储在行中")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("区的大小是固定的，每个区包含1MB的空间。")]),t._v(" "),e("li",[t._v("页的大小是固定的，每个页包含16KB的空间。")])])]),e("p",[e("img",{attrs:{src:a(534),alt:"image-20231222154151828"}})]),t._v(" "),e("h2",{attrs:{id:"myisam"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#myisam"}},[t._v("#")]),t._v(" MyISAM")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[t._v("早期版本默认的存储引擎")])]),e("h3",{attrs:{id:"特点-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-2"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),e("ul",[e("li",[t._v("不支持事务、外键、行锁")]),t._v(" "),e("li",[t._v("支持表锁、访问速度快")])]),t._v(" "),e("h3",{attrs:{id:"文件-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件-2"}},[t._v("#")]),t._v(" 文件")]),t._v(" "),e("ul",[e("li",[t._v("xxx.sdi:存储表结构信息")]),t._v(" "),e("li",[t._v("XxxMYD:存储数据")]),t._v(" "),e("li",[t._v("xxx.MYI:存储索引")])]),t._v(" "),e("h2",{attrs:{id:"memory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#memory"}},[t._v("#")]),t._v(" MEMORY")]),t._v(" "),e("h3",{attrs:{id:"特点-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特点-3"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),e("ul",[e("li",[t._v("表数据存储在"),e("strong",[t._v("内存")]),t._v("，访问速度快，只适用于临时表和缓存")]),t._v(" "),e("li",[t._v("支持hash索引")])]),t._v(" "),e("h3",{attrs:{id:"文件-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件-3"}},[t._v("#")]),t._v(" 文件")]),t._v(" "),e("p",[t._v("xxx.sdi :存储表结构信息")]),t._v(" "),e("h2",{attrs:{id:"三种引擎对比总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三种引擎对比总结"}},[t._v("#")]),t._v(" 三种引擎对比总结")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("特点")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("InnoDB")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("MyISAM")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Memory")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("存储限制")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("64TB")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("有")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("有")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("事务安全")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不支持")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("锁机制")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("行锁")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("表锁")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("表锁")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("B+tree索引")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Hash索引")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("不支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("全文索引")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持(5.6版本之后)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不支持")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("空间使用")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("低")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("N/A")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("内存使用")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("低")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("中等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("批量插入速度")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("低")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("支持外键")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不支持")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不支持")])])])]),t._v(" "),e("h2",{attrs:{id:"存储引擎选择"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎选择"}},[t._v("#")]),t._v(" 存储引擎选择")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("ul",[e("li",[t._v("基本选择InnoDB（默认不用配置）")]),t._v(" "),e("li",[t._v("MyISAM往往使用"),e("code",[t._v("MongoDB")]),t._v("代替")]),t._v(" "),e("li",[t._v("MEMORY往往使用"),e("code",[t._v("Redis")]),t._v("代替")])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("存储引擎")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("选择条件")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("InnoDB")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1. 对事务的完整性有比较高的要求。 2. 在并发条件下要求数据的一致性。 3. 数据操作除了插入和查询之外，还包含很多的更新、删除操作。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MyISAM")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1. 应用是以读操作和插入操作为主。 2. 只有很少的更新和删除操作。 3. 对事务的完整性、并发性要求不是很高。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("MEMORY")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1. 将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。 2. 对表的大小有限制，太大的表无法缓存在内存中。 3. 无法保障数据的安全性。")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);